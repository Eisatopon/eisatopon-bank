<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Î¤ÏÎ¬Ï€ÎµÎ¶Î± Î˜ÎµÎ¼Î¬Ï„Ï‰Î½ Î•ÎœÎ•</title>

<!-- MathJax -->
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(','\\)'],['$','$']],
    displayMath: [['\\[','\\]'],['$$','$$']],
    processEscapes: true
  },
  startup: {
    ready() {
      MathJax.startup.defaultReady();
      window.mathJaxReady = true;
    }
  }
};
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
body{margin:0;font-family:Segoe UI,Tahoma,Verdana;background:#f4f6fb;color:#2c3e50}
header{background:#5a67d8;color:#fff;padding:40px;text-align:center}
main{max-width:1300px;margin:auto;background:#fff;min-height:100vh;padding:30px}
select,button{padding:10px;font-size:16px}
.filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px;margin-bottom:25px}
.card{border:1px solid #ddd;border-radius:10px;padding:20px;margin-bottom:20px}
.badges span{display:inline-block;background:#eef;padding:4px 10px;border-radius:20px;margin-right:6px;font-size:14px}
.empty{text-align:center;color:#777;margin-top:80px}
footer{text-align:center;padding:20px;background:#5a67d8;color:#fff}
</style>
</head>

<body>

<header>
<h1>ğŸ† Î¤ÏÎ¬Ï€ÎµÎ¶Î± Î˜ÎµÎ¼Î¬Ï„Ï‰Î½ Î•ÎœÎ•</h1>
<p>Î˜Î±Î»Î®Ï‚ â€“ Î•Ï…ÎºÎ»ÎµÎ¯Î´Î·Ï‚ â€“ Î‘ÏÏ‡Î¹Î¼Î®Î´Î·Ï‚ (2005â€“2026)</p>
</header>

<main>

<div class="filters">
<select id="year">
<option value="">Î£Ï‡Î¿Î»Î¹ÎºÏŒ Î­Ï„Î¿Ï‚</option>
<option>2005-2006</option><option>2006-2007</option><option>2007-2008</option>
<option>2008-2009</option><option>2009-2010</option><option>2010-2011</option>
<option>2011-2012</option><option>2012-2013</option><option>2013-2014</option>
<option>2014-2015</option><option>2015-2016</option><option>2016-2017</option>
<option>2017-2018</option><option>2018-2019</option><option>2019-2020</option>
<option>2020-2021</option><option>2021-2022</option><option>2022-2023</option>
<option>2023-2024</option><option>2024-2025</option><option>2025-2026</option>
</select>

<select id="phase">
<option value="">Î¦Î¬ÏƒÎ·</option>
<option value="thales">Î˜Î±Î»Î®Ï‚</option>
<option value="euclides">Î•Ï…ÎºÎ»ÎµÎ¯Î´Î·Ï‚</option>
<option value="archimedes">Î‘ÏÏ‡Î¹Î¼Î®Î´Î·Ï‚</option>
</select>

<select id="grade">
<option value="">Î¤Î¬Î¾Î· / ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±</option>
<option value="B_gym">Î’Î„ Î“Ï…Î¼Î½Î±ÏƒÎ¯Î¿Ï…</option>
<option value="G_gym">Î“Î„ Î“Ï…Î¼Î½Î±ÏƒÎ¯Î¿Ï…</option>
<option value="A_lyk">Î‘Î„ Î›Ï…ÎºÎµÎ¯Î¿Ï…</option>
<option value="B_lyk">Î’Î„ Î›Ï…ÎºÎµÎ¯Î¿Ï…</option>
<option value="G_lyk">Î“Î„ Î›Ï…ÎºÎµÎ¯Î¿Ï…</option>
<option value="arch_small">Î‘ÏÏ‡Î¹Î¼Î®Î´Î·Ï‚ (Î¼Î¹ÎºÏÎ¿Î¯)</option>
<option value="arch_big">Î‘ÏÏ‡Î¹Î¼Î®Î´Î·Ï‚ (Î¼ÎµÎ³Î¬Î»Î¿Î¹)</option>
</select>

<button onclick="search()">Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·</button>
</div>

<div id="results" class="empty">Î•Ï€Î¯Î»ÎµÎ¾Îµ Ï†Î¯Î»Ï„ÏÎ±</div>

</main>

<footer>
eisatopon.gr Â© 2025
</footer>

<script>
const DATA_URLS = {
  "2005-2006":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2005_2006.json",
  "2006-2007":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2006_2007.json",
  "2007-2008":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2007_2008.json",
  "2008-2009":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2008_2009.json",
  "2009-2010":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2009_2010.json",
  "2010-2011":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2010_2011.json",
  "2011-2012":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2011_2012.json",
  "2012-2013":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2012_2013.json",
  "2013-2014":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2013_2014.json",
  "2014-2015":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2014_2015.json",
  "2015-2016":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2015_2016.json",
  "2016-2017":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2016_2017.json",
  "2017-2018":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2017_2018.json",
  "2018-2019":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2018_2019.json",
  "2019-2020":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2019_2020.json",
  "2020-2021":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2020_2021.json",
  "2021-2022":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2021_2022.json",
  "2022-2023":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2022_2023.json",
  "2023-2024":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2023_2024.json",
  "2024-2025":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2024_2025.json",
  "2025-2026":"https://raw.githubusercontent.com/Eisatopon/eisatopon-bank/main/eme_2025_2026.json"
};

async function search(){
  const year = document.getElementById('year').value;
  if(!year){
    alert("Î•Ï€Î¯Î»ÎµÎ¾Îµ Î­Ï„Î¿Ï‚");
    return;
  }

  const res = document.getElementById('results');
  res.innerHTML = "Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...";

  try {
    const url = DATA_URLS[year];
    if(!url) throw new Error("Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ URL Î³Î¹Î± Ï„Î¿ Î­Ï„Î¿Ï‚ " + year);

    const r = await fetch(url, { cache: "no-store" });
    if(!r.ok){
      throw new Error("HTTP error " + r.status);
    }

    const txt = await r.text();

    if(!txt.trim()){
      throw new Error("ÎšÎµÎ½ÏŒ JSON Î±ÏÏ‡ÎµÎ¯Î¿ (" + year + ")");
    }

    let data;
    try {
      data = JSON.parse(txt);
    } catch (e) {
      console.error("âŒ Î£Ï€Î±ÏƒÎ¼Î­Î½Î¿ JSON Î³Î¹Î± Ï„Î¿ Î­Ï„Î¿Ï‚:", year);
      console.error(txt.slice(0, 300));
      throw new Error("ÎœÎ· Î­Î³ÎºÏ…ÏÎ¿ JSON (" + year + ")");
    }

    // âœ… Î•Î´Ï ÎµÎ¯ÏƒÎ±Î¹ Î Î›Î•ÎŸÎ Î‘Î£Î¦Î‘Î›Î—Î£
    console.log("Î¦Î¿ÏÏ„ÏÎ¸Î·ÎºÎ±Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Î±:", data);

    // ÎšÎ‘ÎÎ• ÎŸ,Î¤Î™ Î˜Î•Î›Î•Î™Î£ ÎœÎ• Î¤ÎŸ data
    res.innerHTML = "Î¦Î¿ÏÏ„ÏÎ¸Î·ÎºÎ±Î½ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚ Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î³Î¹Î± " + year;

  } catch(err){
    console.error(err);
    res.innerHTML = "âŒ Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚";
    alert("âŒ Î ÏÏŒÎ²Î»Î·Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚:\n" + err.message);
  }
}


  const out=[];
  Object.entries(data["Ï€ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î±"]).forEach(([phase,grp])=>{
    Object.entries(grp).forEach(([grade,list])=>{
      list.forEach(p=>{
        out.push(`<div class="card">
          <div class="badges">
            <span>${year}</span><span>${phase}</span><span>${grade}</span>
          </div>
          <h3>Î˜Î­Î¼Î± ${p["Î±ÏÎ¹Î¸Î¼ÏŒÏ‚"]}</h3>
          <div>${p.statement.replace(/\n/g,"<br>")}</div>
        </div>`);
      });
    });
  });

  res.innerHTML=out.join("")||"ÎšÎ±Î½Î­Î½Î± Î¸Î­Î¼Î±";
  MathJax.typeset();
}
</script>

</body>
</html>
